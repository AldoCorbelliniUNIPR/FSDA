<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>add2spm :: Functions (Forward Search Data Analysis Toolbox™™)</title>
<link href="docstyle.css" rel="stylesheet" type="text/css">
<meta content="refpage" name="chunktype">
<script language="javaScript" src="bottom.js" type="text/javascript"></script>
</head>

<body>

<a name="top_of_page"></a>
<p style="font-size: 1px;">&nbsp;</p>
<table border="0" cellpadding="0" cellspacing="0" class="nav" summary="Navigation aid" width="100%">
	<tr>
		<td valign="baseline"><b>Forward Search Data Analysis Toolbox™</b></td>
		<td align="right" valign="baseline"><a href="fsda_product_page.html">
		<img align="bottom" alt="fsda_product_page.html" border="0" src="images_help/b_prev.gif"></a>&nbsp;&nbsp;
		<a href="bc.html">
		<img align="bottom" alt="BC" border="0" src="images_help/b_next.gif"></a></td>
	</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" class="feedbacklinktop" width="100%">
	<tr>
		<td>&nbsp;</td>
		<td align="right"><a href="mailto:toolboxFS@unipr.it?subject=feedback">Provide
		feedback on FSDA toolbox</a> </td>
	</tr>
</table>
<h1 class="reftitle"><font class="highlight0">add2spm</font></h1>
<p class="purpose">Add objects to the scatter plot matrix (created with function
<a href="matlab:web(['jar:file:///',matlabroot,'/help/toolbox/stats/help.jar!/gplotmatrix.html'],'-helpbrowser')">
<tt>gplotmatrix</tt></a> of Statistics toolbox)</p>
<h2>Syntax </h2>
<p class="synopsis"><tt>add2spm(H,AX,BigAx)<br>
<tt>add2spm(H,AX,BigAx,<i><tt>param1</tt></i>,<i><tt>val1</tt></i>,<i><tt>param2</tt></i>,<i><tt>val2</tt></i>,...)</tt></tt></p>
<h2>Description</h2>

<p>
 As default add2spm makes legends in the existing scatter plot matrix
 clickable or creates a clickable multilegend if the legend does not
 exist.

 </p>
<p>
  Using varargin it is possible to

 </p>
<p>
  1. personalize the legend of groups in the scatterplot matrix. See option 'userleg'.
 </p>
<p>
 2. add labels of the units belonging to the last data group (or to the grouop with the largest value in the grouping variable) of each scatter
   (panel). See option 'labeladd'.
</p>

<p><tt>add2spm(H,AX,BigAx)</tt> adds clickable multilegends to the scatter plot
matrix. </p>
<p><tt>add2spm(H,AX,BigAx,&#39;1&#39;)</tt> adds clickable multilegends to the scatter plot
matrix and write the labels of the units of the last selected group or in general
of the group corresponding to the greatest element of the grouping variable in the
gplotmatrix. </p>
<p>The input elements of <tt>add2spm</tt> are the typical output of function gplotmatrix.
More specifically, H is an array of handles to the lines on the graphs. The array's
third dimension corresponds to groups in the grouping variable. AX is a matrix of handles to the axes
of the individual plots.  BigAx is a handle to big
(invisible) axes framing the entire plot matrix.  </p>
<p>Remark: <tt>add2spm</tt> is essentially used within FSDA function
<a href="spmplot.html">spmplot</a>. However it can be also be used once a generic
scatterplot matrix created with MATLAB function gplotmatrix is created. </p>

<p></p>
<p>

<tt>add2spm(H,AX,BigAx,<i><tt>param1</tt></i>,<i><tt>val1</tt></i>,<i><tt>param2</tt></i>,<i><tt>val2</tt></i>,...)</tt>
specifies one or more of the name/value pairs described in the following table.</p>

<table border="2" cellpadding="4" cellspacing="0" class="body">
	<colgroup>
		<col width="21%"><col width="79%">
	</colgroup>
	<thead>
		<tr valign="top">
			<th bgcolor="#B2B2B2">Parameter</th>
			<th bgcolor="#B2B2B2">Value</th>
		</tr>
	</thead>
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;labeladd&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p> Default is '', i.e. no labels are added to the symbols
              inside each scatter.
              <br>If set to '1', labels are added to the units of the last data
              group (or the group with the largest value of the grouping
              variable) in each panel of the scatter matrix. The labels
              to add are based on the content of the 'UserData' field of
              the last group. This can be achieved by means of
              instruction set(H(:,:,end), 'UserData' , unit_labels),
              where unit_labels is a column vector of numbers or strings.
              See last example below for a concrete case.</p>
		</td>
	</tr>
	<tr valign="top">
		<td bgcolor="#F2F2F2"><tt>&#39;userleg&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>Default is '', i.e. the existing legends are left as they
              are and are simply made clickable. However, if there is no
              legend, a default one is created ('Group 1', 'Group
              2', etc.).
              <br>If it is set to '1', the legends are updated depending on
              the context of use and are made clickable. The context is
              determined by the occurence of specific words in the Tag of
              the current figure. The strings/contexts currently
              addressed are 'outlier' (for 'Outliers' and 'Normal
              units'), 'brush' (for 'Brushed units 1', 'Brushed units 2',
              etc.) and '' (for 'Group 1', 'Group 2', etc.).
              <br>If it is a cell of strings, e.g. {'FIAT' ; 'BMW' ; 'VOLVO'},
              then such strings are used as legends.</p>
		</td>
	</tr>
			
	</table>


<h3>Examples</h3>
<h3>Example 1</h3>
<p>Add clickable multilegend to Fisher Iris data</p>
<pre class="programlisting">
% load Fisher iris  data
load fisheriris;
% Create scatter plot matrix
[H,AX,BigAx]=gplotmatrix(meas,[],species);
% add clickable multilegends
add2spm(H,AX,BigAx)
% Clicking on the entry of the legend it is possible to hide/show the units belonging to the corresponding group.
</pre>
<p><img src="plots/wp80umyj.gif"> </p>


<h3>Example 2</h3>
<p>In this example option Userleg is explored</p>
<pre class="programlisting">
 % set some multivariate data and some groups
 y = randn(100,3);
 group = ones(100,1); group(1:10,1) = 444; group(11:20,1) = 777;

 % Make a scatterplot using gplotmatrix defaults.
 % The legends automatically created are '1','444' and '777'.
 [H,AX,BigAx] = gplotmatrix(y,[],group,'brk','.ox');

 % with add2spm with default options, the gplotmatrix legends
 % become clickable.
 add2spm(H,AX,BigAx);
</pre>
For example aftering click on the entry for group 1 on the legend we get
<p>
<img src="plots/wpv30okx.gif">
</p>

<pre class="programlisting">
% by running add2spm with option 'userleg' set to '1', the clickable
% legends will become 'group 1', 'group 2' and 'group 3'.
[H,AX,BigAx] = gplotmatrix(y,[],group,'brk','.ox');
add2spm(H,AX,BigAx,'userleg','1');
</pre>
<p>
<img src="plots/wpctpix3.gif">
</p>


<pre class="programlisting">
% by running add2spm with 'userleg', {'my group 1' ; 'my group 4' ; 'my
% group 7'} the clickable legends change as desired.
[H,AX,BigAx] = gplotmatrix(y,[],group,'brk','.ox');
add2spm(H,AX,BigAx,'userleg',{'FIAT' ; 'BMW' ; 'VOLVO'});
</pre>
<p>
<img src="plots/wp8hb8iq.gif">
</p>

<h3>See Also</h3>
<p><a href="spmplot.html"><tt>spmplot</tt></a>,
<a href="matlab:web(['jar:file:///',matlabroot,'/help/toolbox/stats/help.jar!/gplotmatrix.html'],'-helpbrowser')">
<tt>gplotmatrix</tt></a>
 </p>
<table border="0" cellpadding="0" cellspacing="0" class="feedbacklinkbot" width="100%">
	<tr>
		<td>&nbsp;</td>
		<td align="right"><a href="mailto:toolboxFS@unipr.it?subject=feedback">Provide
		feedback on FSDA toolbox</a> </td>
	</tr>
</table>
<p></p>
<table border="0" cellpadding="0" cellspacing="0" class="nav" summary="Navigation aid" width="100%">
	<tr valign="top">
		<td align="left" width="20"><a href="fsda_product_page.html">
		<img align="bottom" alt="fsda_product_page" border="0" src="images_help/b_prev.gif"></a>
		</td>
		<td align="left">FSDA product page</td>
		<td>&nbsp;</td>
		<td align="right">BC</td>
		<td align="right" width="20"><a href="bc.html">
		<img align="bottom" alt="BC" border="0" src="images_help/b_next.gif"></a></td>
	</tr>
</table>
<script language="javaScript" type="text/javascript">
document.write(barra);
</script>

</body>

</html>
