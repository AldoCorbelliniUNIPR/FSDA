<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<!--FScategory:Dynamic Statistical Visualization-->

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>malindexplot :: Functions (Flexible Statistics Data Analysis Toolbox&trade;)
</title>
<link href="docstyle.css" rel="stylesheet" type="text/css">
<meta content="refpage" name="chunktype">
<script  type="text/javascript" language="javaScript" src="bottom.js"></script>

</head>


<body>

<a name="top_of_page"></a>
<p style="font-size: 1px;">&nbsp;</p>
<table border="0" cellpadding="0" cellspacing="0" class="nav" summary="Navigation aid" width="100%">
	<tr>
		<td valign="baseline"><b>Flexible Statistics Data Analysis Toolbox&trade;</b></td>
		<td align="right" valign="baseline"><a href="malfwdplot.html">
		<img align="bottom" alt="resfwdplot" border="0" src="images_help/b_prev.gif"></a>&nbsp;&nbsp;
		<a href="mcd.html">
		<img align="bottom" alt="resfwdplot" border="0" src="images_help/b_next.gif"></a></td>
	</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" class="feedbacklinktop" width="100%">
	<tr>
		<td>&nbsp;</td>
		<td align="right"><a href="mailto:toolboxFS@unipr.it?subject=feedback">Provide 
		feedback on FSDA toolbox</a> </td>
	</tr>
</table>
<a name="bq24of9-1"></a><a class="indexterm" name="zmw57dd0e69698"></a>
<h1 class="reftitle">malindexplot</h1>
<p class="purpose">Plots the Mahalanobis distances against index number. </p>
<h2>Syntax </h2>
<p class="synopsis"><tt>malindexplot(md,v)<br>malindexplot(md,v,<i>param1</i>,<i><tt>val1</tt></i>,<i><tt>param2</tt></i>,<i><tt>val2</tt></i>,...)<br>
</tt></p>
<a name="bq24of9-2"></a>
<h2>Description</h2>
<p><tt>malindexplot(md,v)</tt> plots the Mahalanobis distances against index number. The 
input argument of this function may be conveniently produced by function Smult 
or MMmult.</p>
<table border="1" cellpadding="5" cellspacing="0" class="note" summary="Note">
	<tr width="90%">
		<td>
		<p><b>Note</b>&nbsp;&nbsp; 
		It is worthwhile to remark the difference between function <tt>malfwdplot</tt> from function 
		<tt>malindexplot</tt>. The former shows a 'movie' 
		of the Mahalanobis distances, i.e. it enables to show how the 
		Mahalanobis distances for each unit evolve 
		as the subset size increases. The latter shows the static plot of the 
		Mahalanobis distances 
		against the index number or fitted value or against any other statistic.</p>
		<p><b>Remark</b>&nbsp;&nbsp; Only one <tt>malindexplot</tt> figure at a time can 
		be left open.</td>
	</tr>
</table>
<p></p>
<p><tt>malindexplot(md,v)</tt> needs as input a 
vector of (squared) Mahalanobis distances or a structure containing fields md and Y and a scalar v informing about the 
number of variables which have been used to compute md. </p>
<p><tt>malindexplot(md,<i>v,param1</i>,<i><tt>val1</tt></i>,<i><tt>param2</tt></i>,<i><tt>val2</tt></i>,...)</tt> 
specifies one or more of the name/value pairs described in the following table.</p>
<table border="2" cellpadding="4" cellspacing="0" class="body">
	<colgroup>
		<col width="21%"><col width="79%">
	</colgroup>
	<thead>
		<tr valign="top">
			<th bgcolor="#B2B2B2">Parameter</th>
			<th bgcolor="#B2B2B2">Value</th>
		</tr>
	</thead>
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;x&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>The vector to be plotted on the x-axis. As default the sequence 
		<tt>1:length(md)</tt> will be used.</p>
		</td>
	</tr>
	<tr valign="top">
		<td bgcolor="#F2F2F2"><tt>&#39;h&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>The axis handle of a figure where to send the malindexplot.
                  This can be used to host the malindexplot in a subplot of
                  a complex figure formed by different panels (e.g. a
                  panel with malindexplot from a classical mle estimator and
                  another with Mahalanobis distances from a robust
                  analysis: see example below).</p>
		</td>
	</tr>
	<tr valign="top">
		<td bgcolor="#F2F2F2"><tt>&#39;labx&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>A label for the x-axis (default: <tt>&#39;Subset size m&#39;</tt>)</p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2" style="height: 32px"><tt>&#39;laby&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 32px">
		<p>A label for the y-axis (default: <tt>&#39;&#39;</tt>).</p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;titl&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>A label containing the title of the plot. Default value is
		<tt>&#39;Index plot of Mahalanobis distances&#39;</tt></p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;numlab&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>Number of points to be identified in plots.
		</p>
		<p>If <tt>numlab</tt> is equal a cell 
		containing scalar <tt>k</tt>, the units with the <tt>k</tt> largest 
		Mahalanobis distances are labeled 
		in the plots. If <tt>numlab</tt> is a vector, the units inside the vector are 
		labeled in the plot. For no labeling leave it empty.</p>
		<p>The default value of <tt>numlab</tt> is {5} that is units 
		with the 5 largest Mahalanobis distances are labelled. </p>
		</td>
	</tr>
	<tr valign="top">
		<td bgcolor="#F2F2F2"><tt>&#39;conflev&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>Confidence interval for the horizontal bands. Remark: confidence interval 
		is based on the chi^2 distribution. 
		It can be a vector of different confidence level values,
        e.g. [0.95,0.99].</p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2" style="height: 32px"><tt>&#39;FontSize&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 32px">
		<p>Scalar which controls the font size of the labels of the axes. Default 
		value is 12.</p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2" style="height: 32px"><tt>&#39;SizeAxesNum&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 32px">
		<p>Scalar which controls the size of the numbers of the axes. Default value 
		is 10.</p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2" style="height: 54px"><tt>&#39;xlimx&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 54px">
		<p>Vector with two elements which controls minimum and maximum value of 
		the x axis. Default is <tt>&#39; &#39;</tt>, automatic scale.</p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2" style="height: 54px"><tt>&#39;ylimy&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 54px">
		<p>Vector with two elements which controls minimum and maximum value of 
		the y axis. Default is <tt>&#39; &#39;</tt>, automatic scale.</p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2" style="height: 32px"><tt>&#39;lwdenv&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 32px">
		<p>Scalar which controls the width of the lines associated with the envelopes. 
		Default is <tt>lwdenv=1</tt></p>
		</td>
	</tr>
	<tr>
		<td bgcolor="#F2F2F2" style="height: 54px"><tt>&#39;MarkerSize&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 54px">
		<p>A scalar specifying the size of the marker in points.
                   The default value for MarkerSize is 6 points (1 point = 1/72 inch).</p>
		</td>
	</tr>
	
	<tr>
		<td bgcolor="#F2F2F2" style="height: 32px"><tt>&#39;MarkerFaceColor&#39;</tt></td>
		<td bgcolor="#F2F2F2" style="height: 32px">
		<p>The fill color for markers that are closed shapes
                   (circle, square, diamond, pentagram, hexagram, and the
                   four triangles).</p>
		</td>
	</tr>
	
	<tr>
		<td bgcolor="#F2F2F2"><tt>&#39;databrush&#39;</tt></td>
		<td bgcolor="#F2F2F2">
		<p>Empty value scalar or structure. If databrush=&#39;&#39; (default) brushing 
		is not enabled else if it is a scalar it is possible to brush 
		the points with the mouse using all default options. The core of this option is <tt>selectdataFS</tt>, a function used by 
		all graphic tools of the FSDA toolbox. A separate common page details all
		options of structure
		<a href="databrushoption.html"><tt>databrush</tt></a>. </p>
		</td>
	</tr>
</table>
<p></p>

<a name="bq9x7hn"></a><a name="bq5gf2y"></a>
<h3>Examples</h3>
<h3>Example 1</h3>
<p>Plot of the robust Mahalanobis distances for the stack loss data. 
Note that with a mouse click on the legends text it is possible
to show/hide the corresponding confidence bands in the plot
(<tt>malindexplot</tt> makes use of <a href="clickablemultilegend.html"> <tt>ClickableMultiLegend</tt>)</a>. </p>

<pre class="programlisting">
load('stack_loss.txt');
X=stack_loss(:,1:3);
[n,v]=size(X);
% Define confidence level
conflev=[0.95,0.99];
figure;
h1=subplot(2,1,1);
% Compute traditional Mahalanobis distances
mdtrad=mahal(X,X);
malindexplot(mdtrad,v,'h',h1,'conflev',conflev,'labx','Index number','laby','Traditional md');

% Compute robust md
[out]=FSM(X,'init',5,'plots',0);
seq=1:size(X,1);
good=setdiff(seq,out.ListOut);
mdrob=mahal(X,X(good,:));

h2=subplot(2,1,2);
malindexplot(mdrob,v,'h',h2,'conflev',conflev,'labx','Index number','laby','Robust md','title','');
</pre>


<p></p>
<p><img alt="" src="images_help/img87.gif"></p>
&nbsp;<h3>See Also</h3>
<p><a href="resindexplot.html"><tt>resindexplot</tt></a> </p>
<p>
<table border="0" cellpadding="0" cellspacing="0" class="feedbacklinkbot" width="100%">
	<tr>
		<td>&nbsp;</td>
		<td align="right"><a href="mailto:toolboxFS@unipr.it?subject=feedback">Provide 
		feedback on FSDA toolbox</a> </td>
	</tr>
</table>
</p>
<p></p>
<table border="0" cellpadding="0" cellspacing="0" class="nav" summary="Navigation aid" width="100%">
	<tr valign="top">
		<td align="left" width="20"><a href="malfwdplot.html">
		<img align="bottom" alt="rescale" border="0" src="images_help/b_prev.gif"></a>
		</td>
		<td align="left">malfwdplot.html</td>
		<td>&nbsp;</td>
		<td align="right">mcd.html</td>
		<td align="right" width="20"><a href="mcd.html">
		<img align="bottom" alt="resfwdplot" border="0" src="images_help/b_next.gif"></a></td>
	</tr>
</table>
<script type ="text/javascript" language="javaScript">
document.write(barra);
</script>

</body>

</html>
